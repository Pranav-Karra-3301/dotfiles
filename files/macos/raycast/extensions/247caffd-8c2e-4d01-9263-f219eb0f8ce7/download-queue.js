"use strict";var me=Object.create;var W=Object.defineProperty;var ge=Object.getOwnPropertyDescriptor;var be=Object.getOwnPropertyNames;var ye=Object.getPrototypeOf,$e=Object.prototype.hasOwnProperty;var we=(e,n)=>{for(var t in n)W(e,t,{get:n[t],enumerable:!0})},Q=(e,n,t,r)=>{if(n&&typeof n=="object"||typeof n=="function")for(let i of be(n))!$e.call(e,i)&&i!==t&&W(e,i,{get:()=>n[i],enumerable:!(r=ge(n,i))||r.enumerable});return e};var j=(e,n,t)=>(t=e!=null?me(ye(e)):{},Q(n||!e||!e.__esModule?W(t,"default",{value:e,enumerable:!0}):t,e)),ke=e=>Q(W({},"__esModule",{value:!0}),e);var Ne={};we(Ne,{default:()=>de});module.exports=ke(Ne);var fe=require("react"),s=require("@raycast/api");var C=require("react");var H=require("@raycast/api");function q(){let e=(0,H.getPreferenceValues)(),n=[];if(!e.primaryInstanceName||!e.primaryInstanceUrl||!e.primaryInstanceApiKey)throw new Error("Primary Radarr instance configuration is incomplete");return n.push({name:e.primaryInstanceName,url:e.primaryInstanceUrl.replace(/\/$/,""),apiKey:e.primaryInstanceApiKey,isDefault:!0}),e.enableSecondaryInstance&&e.secondaryInstanceName&&e.secondaryInstanceUrl&&e.secondaryInstanceApiKey&&n.push({name:e.secondaryInstanceName,url:e.secondaryInstanceUrl.replace(/\/$/,""),apiKey:e.secondaryInstanceApiKey,isDefault:!1}),n}function X(){let e=(0,H.getPreferenceValues)(),n=q();if(e.activeInstance==="secondary"&&e.enableSecondaryInstance&&n.length>1)return n[1];if(n.length>0)return n[0];throw new Error("No Radarr instances configured")}function Y(){let[e,n]=(0,C.useState)(null),[t,r]=(0,C.useState)(!0),i=(0,C.useCallback)(()=>{try{let c=X();n(c)}catch(c){console.error("Failed to load default instance:",c),n(null)}finally{r(!1)}},[]);(0,C.useEffect)(()=>{i()},[i]);let f=(0,C.useCallback)(c=>{n(c)},[]),o=(0,C.useMemo)(()=>{try{return q()}catch{return[]}},[]);return{currentInstance:e,isLoading:t,availableInstances:o,switchToInstance:f}}var u=j(require("react")),m=require("@raycast/api");var ee=Object.prototype.hasOwnProperty;function K(e,n){var t,r;if(e===n)return!0;if(e&&n&&(t=e.constructor)===n.constructor){if(t===Date)return e.getTime()===n.getTime();if(t===RegExp)return e.toString()===n.toString();if(t===Array){if((r=e.length)===n.length)for(;r--&&K(e[r],n[r]););return r===-1}if(!t||typeof e=="object"){r=0;for(t in e)if(ee.call(e,t)&&++r&&!ee.call(n,t)||!(t in n)||!K(e[t],n[t]))return!1;return Object.keys(n).length===r}}return e!==e&&n!==n}var O=j(require("node:fs")),G=j(require("node:path")),ae=j(require("node:crypto"));var se=require("react/jsx-runtime");function xe(e){let n=(0,u.useRef)(e),t=(0,u.useRef)(0);return K(e,n.current)||(n.current=e,t.current+=1),(0,u.useMemo)(()=>n.current,[t.current])}function A(e){let n=(0,u.useRef)(e);return n.current=e,n}function ve(e,n){let t=e instanceof Error?e.message:String(e);return(0,m.showToast)({style:m.Toast.Style.Failure,title:n?.title??"Something went wrong",message:n?.message??t,primaryAction:n?.primaryAction??te(e),secondaryAction:n?.primaryAction?te(e):void 0})}var te=e=>{let n=!0,t="[Extension Name]...",r="";try{let o=JSON.parse((0,O.readFileSync)((0,G.join)(m.environment.assetsPath,"..","package.json"),"utf8"));t=`[${o.title}]...`,r=`https://raycast.com/${o.owner||o.author}/${o.name}`,(!o.owner||o.access==="public")&&(n=!1)}catch{}let i=m.environment.isDevelopment||n,f=e instanceof Error?e?.stack||e?.message||"":String(e);return{title:i?"Copy Logs":"Report Error",onAction(o){o.hide(),i?m.Clipboard.copy(f):(0,m.open)(`https://github.com/raycast/extensions/issues/new?&labels=extension%2Cbug&template=extension_bug_report.yml&title=${encodeURIComponent(t)}&extension-url=${encodeURI(r)}&description=${encodeURIComponent(`#### Error:
\`\`\`
${f}
\`\`\`
`)}`)}}};function Se(e,n,t){let r=(0,u.useRef)(0),[i,f]=(0,u.useState)({isLoading:!0}),o=A(e),c=A(t?.abortable),l=A(n||[]),b=A(t?.onError),y=A(t?.onData),k=A(t?.onWillExecute),I=A(t?.failureToastOptions),R=A(i.data),x=(0,u.useRef)(null),g=(0,u.useRef)({page:0}),a=(0,u.useRef)(!1),d=(0,u.useRef)(!0),v=(0,u.useRef)(50),w=(0,u.useCallback)(()=>(c.current&&(c.current.current?.abort(),c.current.current=new AbortController),++r.current),[c]),h=(0,u.useCallback)((...U)=>{let P=w();k.current?.(U),f(p=>({...p,isLoading:!0}));let D=Ie(o.current)(...U);function L(p){return p.name=="AbortError"||P===r.current&&(b.current?b.current(p):m.environment.launchType!==m.LaunchType.Background&&ve(p,{title:"Failed to fetch latest data",primaryAction:{title:"Retry",onAction(M){M.hide(),x.current?.(...l.current||[])}},...I.current}),f({error:p,isLoading:!1})),p}return typeof D=="function"?(a.current=!0,D(g.current).then(({data:p,hasMore:M,cursor:he})=>(P===r.current&&(g.current&&(g.current.cursor=he,g.current.lastItem=p?.[p.length-1]),y.current&&y.current(p,g.current),M&&(v.current=p.length),d.current=M,f(pe=>g.current.page===0?{data:p,isLoading:!1}:{data:(pe.data||[])?.concat(p),isLoading:!1})),p),p=>(d.current=!1,L(p)))):(a.current=!1,D.then(p=>(P===r.current&&(y.current&&y.current(p),f({data:p,isLoading:!1})),p),L))},[y,b,l,o,f,x,k,g,I,w]);x.current=h;let E=(0,u.useCallback)(()=>{g.current={page:0};let U=l.current||[];return h(...U)},[h,l]),T=(0,u.useCallback)(async(U,P)=>{let D;try{if(P?.optimisticUpdate){w(),typeof P?.rollbackOnError!="function"&&P?.rollbackOnError!==!1&&(D=structuredClone(R.current?.value));let L=P.optimisticUpdate;f(p=>({...p,data:L(p.data)}))}return await U}catch(L){if(typeof P?.rollbackOnError=="function"){let p=P.rollbackOnError;f(M=>({...M,data:p(M.data)}))}else P?.optimisticUpdate&&P?.rollbackOnError!==!1&&f(p=>({...p,data:D}));throw L}finally{P?.shouldRevalidateAfter!==!1&&(m.environment.launchType===m.LaunchType.Background||m.environment.commandMode==="menu-bar"?await E():E())}},[E,R,f,w]),S=(0,u.useCallback)(()=>{g.current.page+=1;let U=l.current||[];h(...U)},[g,l,h]);(0,u.useEffect)(()=>{g.current={page:0},t?.execute!==!1?h(...n||[]):w()},[xe([n,t?.execute,h]),c,g]),(0,u.useEffect)(()=>()=>{w()},[w]);let N=t?.execute!==!1?i.isLoading:!1,F={...i,isLoading:N},V=a.current?{pageSize:v.current,hasMore:d.current,onLoadMore:S}:void 0;return{...F,revalidate:E,mutate:T,pagination:V}}function Ie(e){return e===Promise.all||e===Promise.race||e===Promise.resolve||e===Promise.reject?e.bind(Promise):e}function re(e){return typeof e!="function"?!1:/^function\s+\w*\s*\(\s*\)\s*{\s+\[native code\]\s+}$/i.exec(Function.prototype.toString.call(e))!==null}function Re(e){return e instanceof URLSearchParams?e.toString():e}function ie(e,n=[]){function t(r){return"update"in e?e.update(r,"utf8"):e.write(r)}return{dispatch:function(r){r=Re(r),r===null?this._null():this["_"+typeof r](r)},_object:function(r){let i=/\[object (.*)\]/i,f=Object.prototype.toString.call(r),o=i.exec(f)?.[1]??"unknown:["+f+"]";o=o.toLowerCase();let c=null;if((c=n.indexOf(r))>=0){this.dispatch("[CIRCULAR:"+c+"]");return}else n.push(r);if(Buffer.isBuffer(r))return t("buffer:"),t(r.toString("utf8"));if(o!=="object"&&o!=="function"&&o!=="asyncfunction")if(this["_"+o])this["_"+o](r);else throw new Error('Unknown object type "'+o+'"');else{let l=Object.keys(r);l=l.sort(),re(r)||l.splice(0,0,"prototype","__proto__","constructor"),t("object:"+l.length+":");let b=this;return l.forEach(function(y){b.dispatch(y),t(":"),b.dispatch(r[y]),t(",")})}},_array:function(r,i){i=typeof i<"u"?i:!1;let f=this;if(t("array:"+r.length+":"),!i||r.length<=1){r.forEach(function(l){f.dispatch(l)});return}let o=[],c=r.map(function(l){let b=Ee(),y=n.slice();return ie(b,y).dispatch(l),o=o.concat(y.slice(n.length)),b.read().toString()});n=n.concat(o),c.sort(),this._array(c,!1)},_date:function(r){t("date:"+r.toJSON())},_symbol:function(r){t("symbol:"+r.toString())},_error:function(r){t("error:"+r.toString())},_boolean:function(r){t("bool:"+r.toString())},_string:function(r){t("string:"+r.length+":"),t(r.toString())},_function:function(r){t("fn:"),re(r)?this.dispatch("[native]"):this.dispatch(r.toString()),this.dispatch("function-name:"+String(r.name)),this._object(r)},_number:function(r){t("number:"+r.toString())},_xml:function(r){t("xml:"+r.toString())},_null:function(){t("Null")},_undefined:function(){t("Undefined")},_regexp:function(r){t("regex:"+r.toString())},_uint8array:function(r){t("uint8array:"),this.dispatch(Array.prototype.slice.call(r))},_uint8clampedarray:function(r){t("uint8clampedarray:"),this.dispatch(Array.prototype.slice.call(r))},_int8array:function(r){t("int8array:"),this.dispatch(Array.prototype.slice.call(r))},_uint16array:function(r){t("uint16array:"),this.dispatch(Array.prototype.slice.call(r))},_int16array:function(r){t("int16array:"),this.dispatch(Array.prototype.slice.call(r))},_uint32array:function(r){t("uint32array:"),this.dispatch(Array.prototype.slice.call(r))},_int32array:function(r){t("int32array:"),this.dispatch(Array.prototype.slice.call(r))},_float32array:function(r){t("float32array:"),this.dispatch(Array.prototype.slice.call(r))},_float64array:function(r){t("float64array:"),this.dispatch(Array.prototype.slice.call(r))},_arraybuffer:function(r){t("arraybuffer:"),this.dispatch(new Uint8Array(r))},_url:function(r){t("url:"+r.toString())},_map:function(r){t("map:");let i=Array.from(r);this._array(i,!0)},_set:function(r){t("set:");let i=Array.from(r);this._array(i,!0)},_file:function(r){t("file:"),this.dispatch([r.name,r.size,r.type,r.lastModified])},_blob:function(){throw Error(`Hashing Blob objects is currently not supported
(see https://github.com/puleos/object-hash/issues/26)
Use "options.replacer" or "options.ignoreUnknown"
`)},_domwindow:function(){t("domwindow")},_bigint:function(r){t("bigint:"+r.toString())},_process:function(){t("process")},_timer:function(){t("timer")},_pipe:function(){t("pipe")},_tcp:function(){t("tcp")},_udp:function(){t("udp")},_tty:function(){t("tty")},_statwatcher:function(){t("statwatcher")},_securecontext:function(){t("securecontext")},_connection:function(){t("connection")},_zlib:function(){t("zlib")},_context:function(){t("context")},_nodescript:function(){t("nodescript")},_httpparser:function(){t("httpparser")},_dataview:function(){t("dataview")},_signal:function(){t("signal")},_fsevent:function(){t("fsevent")},_tlswrap:function(){t("tlswrap")}}}function Ee(){return{buf:"",write:function(e){this.buf+=e},end:function(e){this.buf+=e},read:function(){return this.buf}}}function Ae(e,n){let t=this[e];return t instanceof Date?`__raycast_cached_date__${t.toISOString()}`:Buffer.isBuffer(t)?`__raycast_cached_buffer__${t.toString("base64")}`:n}function Te(e,n){return typeof n=="string"&&n.startsWith("__raycast_cached_date__")?new Date(n.replace("__raycast_cached_date__","")):typeof n=="string"&&n.startsWith("__raycast_cached_buffer__")?Buffer.from(n.replace("__raycast_cached_buffer__",""),"base64"):n}function B(e){let n=ae.default.createHash("sha1");return ie(n).dispatch(e),n.digest("hex")}var Pe=Symbol("cache without namespace"),ne=new Map;function Ce(e,n,t){let r=t?.cacheNamespace||Pe,i=ne.get(r)||ne.set(r,new m.Cache({namespace:t?.cacheNamespace})).get(r);if(!i)throw new Error("Missing cache");let f=A(e),o=A(n),c=(0,u.useSyncExternalStore)(i.subscribe,()=>{try{return i.get(f.current)}catch(k){console.error("Could not get Cache data:",k);return}}),l=(0,u.useMemo)(()=>{if(typeof c<"u"){if(c==="undefined")return;try{return JSON.parse(c,Te)}catch(k){return console.warn("The cached data is corrupted",k),o.current}}else return o.current},[c,o]),b=A(l),y=(0,u.useCallback)(k=>{let I=typeof k=="function"?k(b.current):k;if(typeof I>"u")i.set(f.current,"undefined");else{let R=JSON.stringify(I,Ae);i.set(f.current,R)}return I},[i,f,b]);return[l,y]}var z=Symbol();function Ue(e,n,t){let{initialData:r,keepPreviousData:i,internal_cacheKeySuffix:f,...o}=t||{},c=(0,u.useRef)(null),[l,b]=Ce(B(n||[])+f,z,{cacheNamespace:B(e)}),y=(0,u.useRef)(l!==z?l:r),k=(0,u.useRef)(void 0),{mutate:I,revalidate:R,...x}=Se(e,n||[],{...o,onData(w,h){k.current=h,o.onData&&o.onData(w,h),!(h&&h.page>0)&&(c.current="promise",y.current=w,b(w))}}),g,a=x.pagination;k.current&&k.current.page>0&&x.data?g=x.data:c.current==="promise"?g=y.current:i&&l!==z?(g=l,a&&(a.hasMore=!0,a.pageSize=l.length)):i&&l===z?g=y.current:l!==z?(g=l,a&&(a.hasMore=!0,a.pageSize=l.length)):g=r;let d=A(g),v=(0,u.useCallback)(async(w,h)=>{let E;try{if(h?.optimisticUpdate){typeof h?.rollbackOnError!="function"&&h?.rollbackOnError!==!1&&(E=structuredClone(d.current));let T=h.optimisticUpdate(d.current);c.current="cache",y.current=T,b(T)}return await I(w,{shouldRevalidateAfter:h?.shouldRevalidateAfter})}catch(T){if(typeof h?.rollbackOnError=="function"){let S=h.rollbackOnError(d.current);c.current="cache",y.current=S,b(S)}else h?.optimisticUpdate&&h?.rollbackOnError!==!1&&(c.current="cache",y.current=E,b(E));throw T}},[b,I,d,y,c]);return(0,u.useEffect)(()=>{l!==z&&(c.current="cache",y.current=l)},[l]),{data:g,isLoading:x.isLoading,error:x.error,mutate:k.current&&k.current.page>0?I:v,pagination:a,revalidate:R}}function _e(e){if(e){let n=Oe(e);if(!n)return!1;if(n.subtype==="json"||n.suffix==="json"||n.suffix&&/\bjson\b/i.test(n.suffix)||n.subtype&&/\bjson\b/i.test(n.subtype))return!0}return!1}var Me=/^([A-Za-z0-9][A-Za-z0-9!#$&^_-]{0,126})\/([A-Za-z0-9][A-Za-z0-9!#$&^_.+-]{0,126});?$/;function Oe(e){let n=e.indexOf(";"),t=n!==-1?e.slice(0,n).trim():e.trim(),r=Me.exec(t.toLowerCase().toLowerCase());if(!r)return;let i=r[1],f=r[2],o,c=f.lastIndexOf("+");return c!==-1&&(o=f.substring(c+1),f=f.substring(0,c)),{type:i,subtype:f,suffix:o}}async function De(e){if(!e.ok)throw new Error(e.statusText);let n=e.headers.get("content-type");return n&&_e(n)?await e.json():await e.text()}function Le(e){return{data:e,hasMore:!1}}function oe(e,n){let{parseResponse:t,mapResult:r,initialData:i,execute:f,keepPreviousData:o,onError:c,onData:l,onWillExecute:b,failureToastOptions:y,...k}=n||{},I={initialData:i,execute:f,keepPreviousData:o,onError:c,onData:l,onWillExecute:b,failureToastOptions:y},R=A(t||De),x=A(r||Le),g=(0,u.useRef)(null),a=(0,u.useRef)(null),d=typeof e=="function"?e({page:0}):void 0;(!g.current||typeof a.current>"u"||a.current!==d)&&(g.current=e),a.current=d;let v=(0,u.useRef)(null),w=(0,u.useCallback)((T,S)=>async N=>{let F=await fetch(T(N),{signal:v.current?.signal,...S}),V=await R.current(F);return x.current?.(V)},[R,x]),h=(0,u.useCallback)(async(T,S)=>{let N=await fetch(T,{signal:v.current?.signal,...S}),F=await R.current(N);return x.current(F)?.data},[R,x]),E=(0,u.useMemo)(()=>a.current?w:h,[a,h,w]);return Ue(E,[g.current,k],{...I,internal_cacheKeySuffix:a.current+B(x.current)+B(R.current),abortable:v})}var _=require("@raycast/api");function ze(e,n,t){let r=!!(e?.url&&e?.apiKey)&&t?.execute!==!1,i=e?.url?`${e.url}/api/v3${n}`:"",{data:f,error:o,isLoading:c,mutate:l}=oe(i,{headers:{"X-Api-Key":e?.apiKey||"","Content-Type":"application/json"},execute:r,onError:b=>{console.error(`Radarr API Error (${e?.name||"Unknown"}):`,b),(0,_.showToast)({style:_.Toast.Style.Failure,title:"Radarr Error",message:`Failed to connect to ${e?.name||"Radarr"}: ${b.message}`}),t?.onError?.(b)},onData:t?.onData});return{data:f,error:o,isLoading:c,mutate:l}}function ce(e){return ze(e,"/queue?includeMovie=true")}async function le(e,n){if(!e?.url||!e?.apiKey)throw new Error("Invalid Radarr instance configuration");try{let t=`${e.url}/api/v3/queue/${n}`,r=await fetch(t,{method:"DELETE",headers:{"X-Api-Key":e.apiKey}});if(!r.ok)throw new Error(`HTTP ${r.status}: ${r.statusText}`);(0,_.showToast)({style:_.Toast.Style.Success,title:"Queue Item Removed",message:"Item removed from download queue"})}catch(t){throw console.error("Remove queue item error:",t),(0,_.showToast)({style:_.Toast.Style.Failure,title:"Failed to Remove Item",message:t instanceof Error?t.message:"Unknown error"}),t}}function J(e){return`${e.title} (${e.year})`}function Z(e){let n=["B","KB","MB","GB","TB"];if(e===0)return"0 B";let t=Math.floor(Math.log(e)/Math.log(1024));return`${Math.round(e/Math.pow(1024,t)*100)/100} ${n[t]}`}function ue(e){if(!e||e.trim()==="")return"No overview available";let n=e.split(/(?<=[.!?])\s+/),t=[];for(let r=0;r<n.length;r+=2){let i=n.slice(r,r+2).join(" ");t.push(i)}return t.join(`

`)}var $=require("react/jsx-runtime");function de(){let{currentInstance:e,isLoading:n,availableInstances:t,switchToInstance:r}=Y(),{data:i,isLoading:f,error:o,mutate:c}=ce(e),l=i?.records||[];(0,fe.useEffect)(()=>{if(l.some(d=>d.status==="downloading")){let d=setInterval(()=>{c()},5e3);return()=>clearInterval(d)}},[l,c]);let b=(a,d)=>d==="error"?s.Color.Red:d==="warning"?s.Color.Yellow:a==="downloading"?s.Color.Blue:a==="completed"?s.Color.Green:s.Color.SecondaryText,y=(a,d)=>d==="error"?s.Icon.XMarkCircle:d==="warning"?s.Icon.ExclamationMark:a==="downloading"?s.Icon.Download:a==="completed"?s.Icon.Check:s.Icon.Clock,k=a=>{if(a.size===0)return"Unknown size";let d=a.size-a.sizeleft,v=Math.round(d/a.size*100);return`${Z(d)} / ${Z(a.size)} (${v}%)`},I=a=>{if(a.size===0)return 0;let d=a.size-a.sizeleft;return Math.round(d/a.size*100)},R=a=>{if(a.timeleft&&a.timeleft!=="00:00:00")return a.timeleft;if(a.estimatedCompletionTime){let d=new Date(a.estimatedCompletionTime),v=new Date,w=d.getTime()-v.getTime();if(w>0){let h=Math.floor(w/36e5),E=Math.floor(w%(1e3*60*60)/(1e3*60));return`${h}h ${E}m`}}return"Unknown"},x=async a=>{if(await(0,s.confirmAlert)({title:"Remove Download",message:`Are you sure you want to remove "${a.title}" from the download queue?`,primaryAction:{title:"Remove",style:s.Alert.ActionStyle.Destructive}}))try{await le(e,a.id),c()}catch(v){console.error("Failed to remove queue item:",v)}},g=a=>{let d=b(a.status,a.trackedDownloadStatus),v=y(a.status,a.trackedDownloadStatus),w=k(a),h=R(a),E=a.status==="downloading"?`${I(a)}%`:a.status,T=a.statusMessages.flatMap(S=>S.messages).join(", ");return(0,$.jsx)(s.List.Item,{icon:{source:v,tintColor:d},title:a.title,subtitle:a.movie?J(a.movie):"Processing...",accessories:[{text:w},...h!=="Unknown"?[{text:h}]:[],{tag:{value:E,color:d}}],detail:(0,$.jsx)(s.List.Item.Detail,{markdown:`# ${a.title}

## Movie
**${a.movie?J(a.movie):"Movie information not available"}**

## Download Details
- **Status:** ${a.status}
- **Tracked Status:** ${a.trackedDownloadStatus}
- **Protocol:** ${a.protocol}
- **Download Client:** ${a.downloadClient}
- **Indexer:** ${a.indexer}
- **Progress:** ${w}
- **Time Left:** ${h}
- **Output Path:** ${a.outputPath}

${T?`## Status Messages
${T}`:""}

## Movie Overview
${ue(a.movie?.overview||"")}`}),actions:(0,$.jsxs)(s.ActionPanel,{children:[(0,$.jsxs)(s.ActionPanel.Section,{children:[(0,$.jsx)(s.Action,{title:"Remove from Queue",icon:s.Icon.Trash,style:s.Action.Style.Destructive,onAction:()=>x(a)}),a.movie?.tmdbId&&(0,$.jsx)(s.Action.OpenInBrowser,{title:"Open Movie in Radarr",url:`${e?.url}/movie/${a.movie.tmdbId}`,icon:s.Icon.Globe}),a.movie?.imdbId&&(0,$.jsx)(s.Action.OpenInBrowser,{title:"Open in Imdb",url:`https://imdb.com/title/${a.movie.imdbId}`,icon:s.Icon.Globe})]}),(0,$.jsx)(s.ActionPanel.Section,{children:(0,$.jsx)(s.Action,{title:"Refresh",icon:s.Icon.RotateClockwise,onAction:c})}),t.length>1&&(0,$.jsxs)(s.ActionPanel.Section,{title:"Instance",children:[t.map(S=>(0,$.jsx)(s.Action,{title:`Switch to ${S.name}`,icon:e?.name===S.name?s.Icon.Check:s.Icon.Circle,onAction:()=>r(S)},S.name)),(0,$.jsx)(s.Action.Open,{title:"Open Preferences",target:"raycast://extensions/preferences",icon:s.Icon.Gear})]})]})},a.id)};return n?(0,$.jsx)(s.List,{isLoading:!0}):t.length===0?(0,$.jsx)(s.List,{children:(0,$.jsx)(s.List.EmptyView,{title:"No Radarr Instances Configured",description:"Please configure your Radarr instances in preferences",icon:s.Icon.ExclamationMark,actions:(0,$.jsx)(s.ActionPanel,{children:(0,$.jsx)(s.Action.Open,{title:"Open Preferences",target:"raycast://extensions/preferences",icon:s.Icon.Gear})})})}):o?(0,$.jsx)(s.List,{children:(0,$.jsx)(s.List.EmptyView,{title:"Failed to Load Queue",description:`Error: ${o.message}`,icon:s.Icon.ExclamationMark,actions:(0,$.jsx)(s.ActionPanel,{children:(0,$.jsx)(s.Action,{title:"Retry",icon:s.Icon.RotateClockwise,onAction:c})})})}):(0,$.jsx)(s.List,{isLoading:f,searchBarPlaceholder:`Search download queue on ${e?.name||"Radarr"}...`,isShowingDetail:!0,children:l.length===0?(0,$.jsx)(s.List.EmptyView,{title:"Download Queue Empty",description:"No downloads currently in progress",icon:s.Icon.Download}):l.map(g)})}
